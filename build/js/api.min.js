!function(e){e("#new-quote-button").on("click",function(t){t.preventDefault(),e("#new-quote-button").blur();!function(t){e.ajax({method:"get",url:api_vars.root_url+t}).done(function(t){var o=t[0],n=o.slug,r=o.title.rendered,a=o.content.rendered,u=o._qod_quote_source,l=o._qod_quote_source_url,s=api_vars.home_url+"/"+n;history.pushState({page:n},null,s),e(".entry-title").html("-"+r+", "),e(".entry-content").html(a),""!==u&&""!==l?e(".source").html('<a href="'+l+'">'+u+"</a>"):""!==u?e(".source").html(u):e(".source").html("Source Unknown")}).fail(function(){e("article").append("<p>Unable to get a post</p>")})}("wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1")}),e("#submit-quote").on("click",function(t){t.preventDefault(),function(){var t=e("#title").val(),o=e("#quote").val(),n=e("#source").val(),r=e("#source-url").val();e.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:{title:t,content:o,status:"publish",_qod_quote_source:n,_qod_quote_source_url:r},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){e("form").trigger("reset"),e("form").hide(),e("article").append("<p>Success! made a new post</p>"),e("#submit-another").toggleClass("hidden")}).fail(function(){e("article").append("<p>Unable to make a post</p>")})}()}),e("#submit-another").on("click",function(t){t.preventDefault(),e("article p:last-child").remove(),e("form").show(),e("#submit-another").toggleClass("hidden")}),window.onpopstate=function(e){var t=api_vars.home_url,o=e.state.page;null!==o&&(window.location.href=t+"/"+o)}}(jQuery);