!function(t){function e(e){t.ajax({method:"get",url:api_vars.root_url+e}).done(function(e){var o=e[0],n=o.slug,r=o.title.rendered,u=o.content.rendered,l=o._qod_quote_source,a=o._qod_quote_source_url;history.replaceState(null,null,n),t(".entry-title").html("-"+r),t(".entry-content").html(u),""!==l&&""!==a?t(".source").html('<a href="'+a+'">'+l+"</a>"):""!==l?t(".source").html(l):t(".source").html("Source Unknown")})}t("#new-quote-button").on("click",function(o){o.preventDefault(),t("#new-quote-button").blur();e("wp/v2/posts/?filter[orderby]=rand&filter[posts_per_page]=1")}),t("#submit-quote").on("click",function(e){e.preventDefault(),function(){var e=t("#title").val(),o=t("#quote").val(),n=t("#source").val(),r=t("#source-url").val();t.ajax({method:"post",url:api_vars.root_url+"wp/v2/posts/",data:{title:e,content:o,status:"publish",_qod_quote_source:n,_qod_quote_source_url:r},beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",api_vars.nonce)}}).done(function(){t("form").trigger("reset"),t("form").hide(),t("article").append("<p>Success! made a new post</p>"),t("#submit-another").toggleClass("hidden")})}()}),t("#submit-another").on("click",function(e){e.preventDefault(),t("article p:last-child").remove(),t("form").show(),t("#submit-another").toggleClass("hidden")}),window.onpopstate=function(t){alert("location: "+document.location+", state: "+JSON.stringify(t.state));e(document.location)}}(jQuery);